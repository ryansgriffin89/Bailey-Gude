<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bailey‚Äôs Guide to Wellness ‚Ä¢ 2026 Edition</title>

<!-- PWA -->
<link rel="manifest" href="./manifest.webmanifest" />
<meta name="theme-color" content="#0b0b12" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="Bailey‚Äôs Guide" />
<link rel="apple-touch-icon" href="./icon.svg" />

<style>
:root{
  --bg0:#07070c;
  --bg1:#0b0b12;
  --card:rgba(255,255,255,0.06);
  --stroke:rgba(255,255,255,0.14);
  --text:rgba(255,255,255,0.92);
  --muted:rgba(255,255,255,0.62);

  --pink:#ff3bd4;
  --cyan:#39f5ff;
  --lime:#a6ff4d;
  --purple:#8a5cff;
  --orange:#ff9f2e;

  --shadow:0 20px 60px rgba(0,0,0,0.45);
  --radius:26px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

*{box-sizing:border-box;-webkit-font-smoothing:antialiased}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font);
  background:
    radial-gradient(1200px 700px at 10% -10%, rgba(255,59,212,0.26), transparent 60%),
    radial-gradient(900px 600px at 90% 0%, rgba(57,245,255,0.22), transparent 55%),
    radial-gradient(900px 700px at 50% 110%, rgba(138,92,255,0.18), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg1) 55%, #07070c);
  color:var(--text);
  line-height:1.45;
  padding-bottom:160px; /* room for bottom nav + confetti button */
}

header{
  padding:34px 18px 22px;
  text-align:center;
  border-bottom-left-radius:34px;
  border-bottom-right-radius:34px;
  background:
    radial-gradient(800px 300px at 30% 0%, rgba(255,59,212,0.35), transparent 55%),
    radial-gradient(700px 320px at 70% 10%, rgba(57,245,255,0.28), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border-bottom:1px solid rgba(255,255,255,0.10);
  backdrop-filter:blur(14px);
}

h1{margin:0;font-weight:1000;letter-spacing:-1.2px;font-size:2.00rem}
.subtitle{
  margin-top:8px;
  font-size:0.82rem;
  font-weight:800;
  letter-spacing:2px;
  text-transform:uppercase;
  color:rgba(255,255,255,0.74);
}
.header-line{
  width:170px;height:4px;margin:14px auto 0;border-radius:999px;
  background:linear-gradient(90deg,var(--pink),var(--cyan),var(--lime));
  box-shadow:0 0 18px rgba(57,245,255,0.35);
}

.today-chip{
  display:inline-flex;align-items:center;gap:10px;margin-top:14px;padding:10px 14px;border-radius:999px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.14);
  backdrop-filter:blur(10px);
  box-shadow:0 10px 30px rgba(0,0,0,0.20);
  font-weight:900;font-size:0.86rem;
}
.today-chip .dot{
  width:10px;height:10px;border-radius:50%;
  background:linear-gradient(180deg,var(--pink),var(--cyan));
  box-shadow:0 0 0 4px rgba(255,255,255,0.10),0 0 20px rgba(255,59,212,0.25);
}

.cycle-sync-container{
  margin-top:16px;padding:6px;border-radius:999px;display:inline-flex;gap:6px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.14);
  backdrop-filter:blur(10px);
}
.cycle-btn{
  border:none;cursor:pointer;padding:10px 14px;border-radius:999px;
  font-weight:950;font-size:0.78rem;color:rgba(255,255,255,0.80);
  background:transparent;
  transition:transform .14s ease, background .2s ease, color .2s ease;
}
.cycle-btn:active{transform:scale(0.98)}
.cycle-btn.active{
  color:#0b0b12;
  background:linear-gradient(90deg,var(--pink),var(--cyan));
  box-shadow:0 10px 24px rgba(0,0,0,0.25),0 0 26px rgba(57,245,255,0.25);
}

.container{max-width:640px;margin:-14px auto 40px;padding:0 14px}

.section-label{
  margin:34px 8px 14px;display:flex;justify-content:space-between;align-items:center;gap:10px;
  color:rgba(255,255,255,0.80);
  font-weight:1000;letter-spacing:2px;text-transform:uppercase;font-size:0.78rem;
}
.section-label span{display:inline-flex;align-items:center;gap:10px}
.section-label span::before{
  content:"";width:10px;height:10px;border-radius:50%;
  background:linear-gradient(180deg,var(--pink),var(--cyan));
  box-shadow:0 0 18px rgba(255,59,212,0.25);
}

.card{
  border-radius:var(--radius);
  background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
  border:1px solid rgba(255,255,255,0.12);
  padding:22px;
  box-shadow:var(--shadow);
  backdrop-filter:blur(16px);
  margin-bottom:18px;
}

.dynamic-box{
  border-radius:20px;padding:14px 16px;margin-bottom:16px;
  background:rgba(57,245,255,0.08);
  border:1px solid rgba(57,245,255,0.22);
  box-shadow:0 18px 40px rgba(0,0,0,0.35);
  backdrop-filter:blur(14px);
  color:rgba(255,255,255,0.88);
}
.dynamic-box strong{color:#fff}

.pill-row{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
.pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:999px;
  font-weight:1000;font-size:0.78rem;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
  color:rgba(255,255,255,0.84);
}
.pill strong{color:#fff}

.checklist{display:grid;gap:10px;margin-top:14px}
.check-item{
  display:flex;gap:12px;align-items:flex-start;padding:14px;border-radius:18px;cursor:pointer;user-select:none;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.10);
  transition:transform .12s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.check-item:hover{border-color:rgba(57,245,255,0.20)}
.check-item:active{transform:scale(0.99)}
.check-item .box{
  width:24px;height:24px;border-radius:9px;border:2px solid rgba(255,255,255,0.22);
  background:rgba(0,0,0,0.22);
  display:flex;align-items:center;justify-content:center;
  font-size:14px;line-height:1;flex-shrink:0;margin-top:2px;
}
.check-item .title{font-weight:1000}
.check-item .sub{font-size:0.86rem;color:var(--muted)}
.check-item.done{
  border-color:rgba(166,255,77,0.35);
  background:rgba(166,255,77,0.08);
  box-shadow:0 0 26px rgba(166,255,77,0.12);
}
.check-item.done .box{
  border-color:rgba(166,255,77,0.6);
  background:linear-gradient(180deg, rgba(166,255,77,0.95), rgba(57,245,255,0.85));
  color:#07110a;font-weight:1000;
}

.check-meta{
  margin-top:12px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;
  font-size:0.82rem;color:rgba(255,255,255,0.70);font-weight:900;
}
.small-link{
  border:none;background:transparent;color:rgba(57,245,255,0.95);
  font-weight:1000;cursor:pointer;padding:0;
}
.small-link:active{transform:scale(0.98)}

.tracker-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;margin-top:14px}
.lb-bubble{
  width:100%;aspect-ratio:1;border-radius:999px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;user-select:none;font-weight:1000;font-size:0.75rem;
  color:rgba(255,255,255,0.55);
  background:rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.10);
  transition:transform .12s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.lb-bubble:hover{border-color:rgba(255,59,212,0.20)}
.lb-bubble:active{transform:scale(0.98)}
.lb-bubble.checked{
  color:#09090f;
  background:linear-gradient(180deg, rgba(255,59,212,0.95), rgba(57,245,255,0.85));
  border-color:rgba(57,245,255,0.28);
  box-shadow:0 0 24px rgba(255,59,212,0.18);
  transform:translateY(-1px);
}
.tracker-footer{margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:10px}
.tracker-count{font-weight:900;font-size:0.82rem;color:rgba(255,255,255,0.70)}
.reset-btn{
  border:none;cursor:pointer;padding:10px 12px;border-radius:14px;font-weight:1000;
  color:rgba(255,255,255,0.80);
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
}
.reset-btn:active{transform:scale(0.98)}

.schedule-item{display:flex;gap:12px;align-items:flex-start;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.08)}
.schedule-item:last-child{border-bottom:none;padding-bottom:0}
.schedule-item:first-child{padding-top:0}
.time{
  min-width:74px;padding:8px 10px;border-radius:14px;text-align:center;
  font-variant-numeric:tabular-nums;font-weight:1000;font-size:0.86rem;
  color:rgba(255,255,255,0.88);
  background:rgba(0,0,0,0.22);
  border:1px solid rgba(255,255,255,0.10);
}
.activity{flex:1;display:flex;flex-direction:column;gap:4px}
.activity strong{font-weight:1000}
.activity span{color:var(--muted);font-size:0.86rem}
.tag{
  margin-top:6px;width:fit-content;display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;font-weight:1000;font-size:0.75rem;
  border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.05);
}
.tag.food{background:rgba(255,59,212,0.10);border-color:rgba(255,59,212,0.22)}
.tag.move{background:rgba(57,245,255,0.10);border-color:rgba(57,245,255,0.22)}

.workout-card{
  border-radius:24px;overflow:hidden;
  border:1px solid rgba(255,255,255,0.12);
  background:linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.03));
  box-shadow:var(--shadow);backdrop-filter:blur(16px);
  margin-bottom:18px;
}
.workout-header{
  padding:18px;display:flex;justify-content:space-between;align-items:center;gap:12px;
  background:
    radial-gradient(600px 180px at 20% 0%, rgba(255,59,212,0.18), transparent 55%),
    radial-gradient(600px 200px at 80% 0%, rgba(57,245,255,0.16), transparent 55%),
    rgba(255,255,255,0.03);
  border-bottom:1px solid rgba(255,255,255,0.10);
}
.workout-title{font-weight:1000;font-size:1.06rem;letter-spacing:-0.2px}
.workout-meta{font-size:0.82rem;color:rgba(255,255,255,0.62);font-weight:800;margin-top:4px}

.collapse-btn{
  border:none;cursor:pointer;padding:10px 12px;border-radius:14px;font-weight:1000;
  color:rgba(255,255,255,0.85);
  background:rgba(0,0,0,0.25);
  border:1px solid rgba(255,255,255,0.12);
  display:flex;align-items:center;gap:8px;flex-shrink:0;
}
.collapse-btn:active{transform:scale(0.98)}
.chev{display:inline-block;transition:transform .18s ease}
.workout-card.collapsed .chev{transform:rotate(-90deg)}
.workout-body{overflow:hidden;max-height:2000px;transition:max-height .25s ease}

.exercise-block{padding:18px;border-bottom:1px solid rgba(255,255,255,0.08)}
.exercise-block:last-child{border-bottom:none}
.ex-header{display:flex;justify-content:space-between;gap:10px;margin-bottom:10px}
.ex-name{font-weight:950;font-size:1rem}
.ex-reps{
  white-space:nowrap;font-weight:1000;font-size:0.78rem;padding:6px 10px;border-radius:999px;
  color:rgba(255,255,255,0.90);
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
}
.ex-details{display:grid;grid-template-columns:1fr 1fr;gap:10px;font-size:0.86rem;color:rgba(255,255,255,0.70);margin-bottom:10px}
.detail-box{border-radius:14px;padding:10px;background:rgba(0,0,0,0.20);border:1px solid rgba(255,255,255,0.10)}
.detail-label{
  display:block;font-size:0.7rem;font-weight:1000;letter-spacing:1.2px;text-transform:uppercase;
  color:rgba(255,255,255,0.58);margin-bottom:3px;
}
.cue-text{
  font-style:italic;color:rgba(255,255,255,0.70);
  border-left:3px solid rgba(255,59,212,0.55);
  padding-left:10px;margin-top:10px;
}
.action-btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn-mini{
  text-decoration:none;display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:14px;
  font-weight:1000;font-size:0.78rem;color:rgba(255,255,255,0.88);
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.12);
}
.btn-mini:active{transform:scale(0.98)}

.workout-card.today{
  border-color:rgba(57,245,255,0.30);
  box-shadow:0 0 40px rgba(57,245,255,0.12), var(--shadow);
}
.today-badge{
  display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;
  font-size:0.72rem;font-weight:1000;margin-left:8px;
  background:linear-gradient(90deg, rgba(255,59,212,0.22), rgba(57,245,255,0.18));
  border:1px solid rgba(255,255,255,0.12);
}

/* Exercise logging */
.log-wrap{
  margin-top:12px;
  border-radius:16px;
  padding:12px;
  background:rgba(0,0,0,0.18);
  border:1px solid rgba(255,255,255,0.10);
}
.log-top{display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap}
.log-last{
  font-weight:900;font-size:0.82rem;color:rgba(255,255,255,0.72);
}
.log-last strong{color:#fff}
.log-form{
  margin-top:10px;
  display:grid;
  grid-template-columns:1fr 1fr auto;
  gap:10px;
  align-items:end;
}
.log-field label{
  display:block;font-size:0.68rem;font-weight:1000;letter-spacing:1.2px;text-transform:uppercase;
  color:rgba(255,255,255,0.58);margin-bottom:6px;
}
.input{
  width:100%;
  padding:11px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.06);
  color:rgba(255,255,255,0.92);
  font-weight:950;
  outline:none;
}
.input::placeholder{color:rgba(255,255,255,0.35);font-weight:800}
.save-btn{
  padding:12px 14px;border-radius:14px;
  border:none;cursor:pointer;
  font-weight:1100;
  color:#07070c;
  background:linear-gradient(90deg,var(--pink),var(--cyan));
  box-shadow:0 16px 34px rgba(0,0,0,0.35);
}
.save-btn:active{transform:scale(0.98)}
.log-next{
  margin-top:10px;
  font-weight:900;
  font-size:0.82rem;
  color:rgba(255,255,255,0.72);
}
.log-next span{color:rgba(57,245,255,0.90)}

/* Food */
.food-grid{display:grid;gap:12px;margin-top:12px}
.food-row{
  border-radius:18px;padding:14px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.10);
}
.food-row h4{margin:0 0 8px 0;font-weight:1100}
.food-row p{margin:0;color:rgba(255,255,255,0.72);font-weight:850;font-size:0.90rem}
.food-split{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.food-mini{
  border-radius:14px;padding:10px;background:rgba(0,0,0,0.20);border:1px solid rgba(255,255,255,0.10)
}
.food-mini strong{display:block;margin-bottom:4px}
.food-mini span{color:rgba(255,255,255,0.70);font-weight:850;font-size:0.88rem}
.food-edit{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:end;margin-top:10px}
.food-note{
  margin-top:10px;padding:10px 12px;border-radius:14px;
  background:rgba(255,159,46,0.10);
  border:1px solid rgba(255,159,46,0.22);
  color:rgba(255,255,255,0.86);
  font-weight:900;font-size:0.84rem;
}

/* Weekly check-in */
.checkin-grid{display:grid;gap:10px;margin-top:12px}
.textarea{min-height:90px;resize:vertical}
.select{
  width:100%;
  padding:11px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.06);
  color:rgba(255,255,255,0.92);
  font-weight:950;
  outline:none;
}
.checkin-meta{
  margin-top:10px;
  display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;
  color:rgba(255,255,255,0.70);
  font-weight:900;
  font-size:0.82rem;
}

/* Stack */
.supp-card{display:flex;gap:14px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,0.08)}
.supp-card:last-child{border-bottom:none;padding-bottom:0}
.supp-card:first-child{padding-top:0}
.supp-icon{
  width:52px;height:52px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;
  background:rgba(0,0,0,0.22);
  border:1px solid rgba(255,255,255,0.12);
  box-shadow:0 0 24px rgba(138,92,255,0.10);
}
.supp-content h4{margin:0 0 6px 0;font-weight:1000}
.supp-list{font-weight:900;color:rgba(57,245,255,0.82);margin-bottom:4px;font-size:0.92rem}
.supp-desc{color:var(--muted);font-size:0.86rem}
.pro-tip{
  margin-top:8px;display:inline-block;padding:8px 10px;border-radius:14px;font-weight:950;font-size:0.76rem;
  background:rgba(255,159,46,0.10);
  border:1px solid rgba(255,159,46,0.22);
  color:rgba(255,255,255,0.86);
}

/* Bottom nav */
.bottom-nav{
  position:fixed;
  left:12px; right:12px;
  bottom:86px; /* above confetti button */
  z-index:120;
  border-radius:22px;
  background:rgba(0,0,0,0.35);
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter:blur(16px);
  box-shadow:0 18px 50px rgba(0,0,0,0.45);
  padding:10px;
}
.nav-grid{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:8px;
}
.nav-btn{
  border:none;cursor:pointer;
  padding:10px 8px;
  border-radius:16px;
  font-weight:1100;
  font-size:0.72rem;
  color:rgba(255,255,255,0.86);
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.10);
  display:flex;flex-direction:column;gap:4px;align-items:center;justify-content:center;
}
.nav-btn:active{transform:scale(0.98)}
.nav-btn.active{
  color:#07070c;
  background:linear-gradient(90deg,var(--pink),var(--cyan));
}

/* Confetti button */
.confetti-btn-container{
  position:fixed;bottom:22px;left:0;right:0;display:flex;justify-content:center;z-index:130;pointer-events:none;
}
.confetti-btn{
  pointer-events:auto;cursor:pointer;border:none;border-radius:999px;padding:16px 22px;font-weight:1100;font-size:1.02rem;
  color:#07070c;background:linear-gradient(90deg,var(--pink),var(--cyan),var(--lime));
  box-shadow:0 22px 60px rgba(0,0,0,0.48),0 0 36px rgba(57,245,255,0.18);
}
.confetti-btn:active{transform:scale(0.97)}

.confetti{
  position:fixed;width:10px;height:10px;border-radius:3px;
  animation:fall linear forwards;pointer-events:none;z-index:999;
}
@keyframes fall{to{transform:translateY(110vh) rotate(720deg)}}

@media (max-width:420px){
  .nav-grid{grid-template-columns:repeat(6,1fr)}
  .nav-btn{font-size:0.68rem;padding:10px 6px}
}

@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important;scroll-behavior:auto!important}
}
</style>
</head>

<body>
<header>
  <h1>Bailey‚Äôs Guide to Wellness</h1>
  <div class="subtitle" id="headerSubtitle">Her Era ‚Ä¢ 2026 Edition</div>
  <div class="header-line"></div>

  <div class="today-chip" aria-live="polite">
    <span class="dot"></span>
    <span id="todayLabel">Today</span>
  </div>

  <div class="cycle-sync-container" aria-label="Energy mode">
    <button class="cycle-btn active" type="button" onclick="setCycle('follicular')">High Energy ‚ö°Ô∏è</button>
    <button class="cycle-btn" type="button" onclick="setCycle('luteal')">Low Energy ü©∏</button>
  </div>
</header>

<div class="container">

  <!-- START HERE -->
  <section id="start">
    <div class="card">
      <div style="text-align:center;">
        <div style="font-size:0.88rem;color:rgba(255,255,255,0.70);font-weight:900;letter-spacing:1.5px;">START HERE</div>
        <div style="font-size:1.22rem;font-weight:1100;margin-top:6px;">Simple plan. Repeat it.</div>
      </div>

      <div class="pill-row" style="margin-top:14px;">
        <div class="pill">üéØ Goal: <strong style="margin-left:6px;">166 ‚Üí 140</strong></div>
        <div class="pill">üèãÔ∏è 4√ó/week: <strong style="margin-left:6px;">30 min</strong></div>
        <div class="pill">üß† Win the basics: <strong style="margin-left:6px;">Protein ‚Ä¢ Steps ‚Ä¢ Sleep</strong></div>
      </div>

      <div class="food-note" style="margin-top:14px;">
        If you do only <strong>ONE</strong> thing today: <strong>hit protein + do the movement window</strong> ‚úÖ
      </div>
    </div>
  </section>

  <div id="cycle-message" class="dynamic-box" style="display:block;">
    <strong>üî• High Energy Phase:</strong> You‚Äôre in your power zone. Lift heavy + go get it.
  </div>

  <!-- TODAY MODE -->
  <section id="today">
    <div class="card" id="todayCard">
      <div style="text-align:center;">
        <div style="font-size:0.88rem;color:rgba(255,255,255,0.70);font-weight:900;letter-spacing:1.5px;">TODAY MODE</div>
        <div style="font-size:1.24rem;font-weight:1100;margin-top:6px;" id="todayFocus">Your focus today</div>
        <div style="font-size:0.86rem;color:rgba(255,255,255,0.65);margin-top:6px;">Tap to check it off ‚úÖ</div>
      </div>

      <div class="checklist" id="checklist"></div>

      <div class="check-meta">
        <span id="checkMetaText">0 / 4 done</span>
        <button class="small-link" type="button" onclick="resetToday()">Reset today</button>
      </div>
    </div>
  </section>

  <div class="section-label"><span>THE DAILY FLOW</span></div>

  <section id="flow">
    <div class="card">
      <div class="schedule-item"><div class="time">06:50</div><div class="activity"><strong>Wake & Hydrate</strong><span>See stack below.</span></div></div>
      <div class="schedule-item"><div class="time">07:15</div><div class="activity"><strong>Daughter Drop-off</strong></div></div>
      <div class="schedule-item"><div class="time">08:30</div><div class="activity"><strong>Son Drop-off (M/W/F)</strong></div></div>

      <div class="schedule-item"><div class="time">12:30</div><div class="activity"><strong>High Protein Lunch</strong><span>Volume eating: protein + veggies first.</span><span class="tag food">üçΩÔ∏è Fill up</span></div></div>
      <div class="schedule-item"><div class="time">14:30</div><div class="activity"><strong>Pickup</strong></div></div>

      <div class="schedule-item"><div class="time">15:15</div><div class="activity"><strong>Primary Workout Window</strong><span>15:15‚Äì15:45 (best time to win).</span><span class="tag move">‚ö° Primary</span></div></div>

      <div class="schedule-item"><div class="time">15:45</div><div class="activity"><strong>Snack</strong><span id="snack-text">Protein shake, jerky, turkey roll-ups.</span><span class="tag food">‚ö° No Crash</span></div></div>

      <div class="schedule-item"><div class="time">19:45</div><div class="activity"><strong>Backup Workout Window</strong><span>19:45‚Äì20:15 (after kids down).</span><span class="tag move">‚úÖ Backup</span></div></div>

      <div class="schedule-item"><div class="time">21:00</div><div class="activity"><strong>Wind-down (optional)</strong><span>Stretch / easy walk / mobility.</span></div></div>
    </div>
  </section>

  <!-- FOOD -->
  <div class="section-label"><span>FOOD PLAYBOOK</span></div>

  <section id="food">
    <div class="card">
      <div style="text-align:center;">
        <div style="font-size:0.88rem;color:rgba(255,255,255,0.70);font-weight:900;letter-spacing:1.5px;">FOOD</div>
        <div style="font-size:1.18rem;font-weight:1100;margin-top:6px;">Repeat meals = results</div>
        <div style="font-size:0.84rem;color:rgba(255,255,255,0.65);margin-top:6px;">Protein first, then veggies, then carbs if needed.</div>
      </div>

      <div class="food-edit">
        <div class="log-field">
          <label for="proteinTarget">Daily protein target (grams)</label>
          <input id="proteinTarget" class="input" inputmode="numeric" placeholder="120" />
        </div>
        <button class="save-btn" type="button" onclick="saveFoodPrefs()">Save</button>
      </div>

      <div class="food-grid">

        <div class="food-row">
          <h4>Easy Lunch #1</h4>
          <p>Big salad bowl + chicken / turkey + crunch (cucumber, bell pepper) + light dressing.</p>
          <div class="food-split">
            <div class="food-mini"><strong>Hers</strong><span>2 palms protein + 2 fists veggies</span></div>
            <div class="food-mini"><strong>His</strong><span>3 palms protein + 2‚Äì3 fists veggies</span></div>
          </div>
        </div>

        <div class="food-row">
          <h4>Easy Lunch #2</h4>
          <p>‚ÄúProtein plate‚Äù: deli turkey + pickles + carrots + hummus OR eggs + avocado + berries.</p>
          <div class="food-split">
            <div class="food-mini"><strong>Hers</strong><span>2 palms protein + 1 thumb fat</span></div>
            <div class="food-mini"><strong>His</strong><span>3 palms protein + 1‚Äì2 thumbs fat</span></div>
          </div>
        </div>

        <div class="food-row">
          <h4>Repeat Dinner #1</h4>
          <p>Grilled protein + veggie side (air fryer) + optional carb (small) if needed.</p>
          <div class="food-split">
            <div class="food-mini"><strong>Hers</strong><span>2 palms protein + 2 fists veggies + 1 cupped-hand carb (optional)</span></div>
            <div class="food-mini"><strong>His</strong><span>3 palms protein + 2‚Äì3 fists veggies + 1‚Äì2 cupped-hand carb (optional)</span></div>
          </div>
        </div>

        <div class="food-row">
          <h4>Repeat Dinner #2</h4>
          <p>Taco bowl: lean meat + lettuce + salsa + light cheese. Add rice only if needed.</p>
          <div class="food-split">
            <div class="food-mini"><strong>Hers</strong><span>2 palms meat + 2 fists veggies + 1 thumb cheese</span></div>
            <div class="food-mini"><strong>His</strong><span>3 palms meat + 2‚Äì3 fists veggies + 1‚Äì2 thumbs cheese</span></div>
          </div>
        </div>

      </div>

      <div class="food-note">
        Hunger rule: if you‚Äôre still hungry ‚Üí add <strong>more veggies</strong> or <strong>more protein</strong> first.
      </div>
    </div>
  </section>

  <!-- MOVES -->
  <div class="section-label"><span>THE MOVES</span></div>

  <section id="moves">
    <!-- MONDAY -->
    <div class="workout-card" data-day="monday">
      <div class="workout-header">
        <div>
          <div class="workout-title">Monday: Leg Day <span class="today-badge" hidden>‚ú® Today</span></div>
          <div class="workout-meta">Warmup: 5 min walk</div>
        </div>
        <button class="collapse-btn" type="button" aria-expanded="true"><span class="chev">‚ñæ</span> Collapse</button>
      </div>
      <div class="workout-body">
        <div class="exercise-block" data-ex-id="mon-goblet-squat">
          <div class="ex-header"><span class="ex-name">1. Goblet Squats</span><span class="ex-reps" data-base="3 x 12" data-low="2 x 12">3 x 12</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>60 sec</div>
            <div class="detail-box"><span class="detail-label">Focus</span>Quads + glutes</div>
          </div>
          <div class="cue-text">üí° Cue: Chest up. Drive through heels. Squeeze glutes at the top.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=MeIiIdhvXT4&vl=en" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
          <div class="log-wrap">
            <div class="log-top">
              <div class="log-last" data-log-last>Last: <strong>‚Äî</strong></div>
              <div class="log-last" data-log-next>Next: <strong>‚Äî</strong></div>
            </div>
            <div class="log-form">
              <div class="log-field"><label>Weight (lb)</label><input class="input" inputmode="numeric" placeholder="25" data-log-w /></div>
              <div class="log-field"><label>Reps</label><input class="input" inputmode="numeric" placeholder="12" data-log-r /></div>
              <button class="save-btn" type="button" data-log-save>Save</button>
            </div>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="mon-reverse-lunge">
          <div class="ex-header"><span class="ex-name">2. Reverse Lunges</span><span class="ex-reps" data-base="3 x 10/leg" data-low="2 x 10/leg">3 x 10/leg</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>60 sec</div>
            <div class="detail-box"><span class="detail-label">Focus</span>Glutes + balance</div>
          </div>
          <div class="cue-text">üí° Cue: Step back far enough for 90¬∞ angles. Front knee behind toe.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=94AXT7D3bKY" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
          <div class="log-wrap">
            <div class="log-top">
              <div class="log-last" data-log-last>Last: <strong>‚Äî</strong></div>
              <div class="log-last" data-log-next>Next: <strong>‚Äî</strong></div>
            </div>
            <div class="log-form">
              <div class="log-field"><label>Weight (lb)</label><input class="input" inputmode="numeric" placeholder="15" data-log-w /></div>
              <div class="log-field"><label>Reps</label><input class="input" inputmode="numeric" placeholder="10" data-log-r /></div>
              <button class="save-btn" type="button" data-log-save>Save</button>
            </div>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="mon-db-rdl">
          <div class="ex-header"><span class="ex-name">3. Dumbbell Romanian Deadlift</span><span class="ex-reps" data-base="3 x 10" data-low="2 x 10">3 x 10</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>60 sec</div>
            <div class="detail-box"><span class="detail-label">Focus</span>Hamstrings + glutes</div>
          </div>
          <div class="cue-text">üí° Cue: Soft knees. Hinge at hips. Keep dumbbells close to legs.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=hQgFixeXdZo" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
          <div class="log-wrap">
            <div class="log-top">
              <div class="log-last" data-log-last>Last: <strong>‚Äî</strong></div>
              <div class="log-last" data-log-next>Next: <strong>‚Äî</strong></div>
            </div>
            <div class="log-form">
              <div class="log-field"><label>Weight (lb)</label><input class="input" inputmode="numeric" placeholder="20" data-log-w /></div>
              <div class="log-field"><label>Reps</label><input class="input" inputmode="numeric" placeholder="10" data-log-r /></div>
              <button class="save-btn" type="button" data-log-save>Save</button>
            </div>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="mon-glute-bridge">
          <div class="ex-header"><span class="ex-name">4. Glute Bridge</span><span class="ex-reps" data-base="2 x 15" data-low="2 x 12">2 x 15</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>30‚Äì45 sec</div>
            <div class="detail-box"><span class="detail-label">Focus</span>Glutes finisher</div>
          </div>
          <div class="cue-text">üí° Cue: Drive through heels. Ribs down. Squeeze at the top for 1 second.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=wPM8icPu6H8" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>
      </div>
    </div>

    <!-- TUESDAY -->
    <div class="workout-card" data-day="tuesday">
      <div class="workout-header">
        <div>
          <div class="workout-title">Tuesday: Pilates Core <span class="today-badge" hidden>‚ú® Today</span></div>
          <div class="workout-meta">Warmup: Cat/Cow + 5 deep breaths</div>
        </div>
        <button class="collapse-btn" type="button" aria-expanded="true"><span class="chev">‚ñæ</span> Collapse</button>
      </div>
      <div class="workout-body">
        <div class="exercise-block" data-ex-id="tue-bird-dog">
          <div class="ex-header"><span class="ex-name">1. Bird-Dogs</span><span class="ex-reps" data-base="3 x 12" data-low="2 x 12">3 x 12</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>30 sec</div>
            <div class="detail-box"><span class="detail-label">Tempo</span>Slow</div>
          </div>
          <div class="cue-text">üí° Cue: Imagine a glass of water on your back. Don‚Äôt spill it.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=-LRjkbEy-qU" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="tue-dead-bug">
          <div class="ex-header"><span class="ex-name">2. Dead Bugs</span><span class="ex-reps" data-base="3 x 10" data-low="2 x 10">3 x 10</span></div>
          <div class="cue-text">üí° Cue: Lower back stays pressed down. If it arches, stop.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=g_BYB0R-4Ws" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="tue-forearm-plank">
          <div class="ex-header"><span class="ex-name">3. Forearm Plank</span><span class="ex-reps" data-base="3 x 25‚Äì40s" data-low="2 x 20‚Äì30s">3 x 25‚Äì40s</span></div>
          <div class="cue-text">üí° Cue: Ribs down. Glutes tight. Don‚Äôt let hips sag.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=mH5Sfb_KTGg" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="tue-pallof-press">
          <div class="ex-header"><span class="ex-name">4. Pallof Press (band)</span><span class="ex-reps" data-base="2 x 10/side" data-low="2 x 8/side">2 x 10/side</span></div>
          <div class="cue-text">üí° Cue: Press straight out. Don‚Äôt rotate. Think ‚Äúanti-twist.‚Äù</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=5_8d8vHgZvU" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>
      </div>
    </div>

    <!-- WEDNESDAY -->
    <div class="workout-card" data-day="wednesday">
      <div class="workout-header">
        <div>
          <div class="workout-title">Wednesday: Upper Body <span class="today-badge" hidden>‚ú® Today</span></div>
          <div class="workout-meta">Warmup: Arm circles + band pull-aparts (if available)</div>
        </div>
        <button class="collapse-btn" type="button" aria-expanded="true"><span class="chev">‚ñæ</span> Collapse</button>
      </div>
      <div class="workout-body">
        <div class="exercise-block" data-ex-id="wed-db-press">
          <div class="ex-header"><span class="ex-name">1. DB Overhead Press</span><span class="ex-reps" data-base="3 x 10" data-low="2 x 10">3 x 10</span></div>
          <div class="ex-details">
            <div class="detail-box"><span class="detail-label">Rest</span>60 sec</div>
            <div class="detail-box"><span class="detail-label">Focus</span>Shoulders + core</div>
          </div>
          <div class="cue-text">üí° Cue: Core tight so you don‚Äôt arch. Press straight up.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=M2rwvNhTOu0" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
          <div class="log-wrap">
            <div class="log-top">
              <div class="log-last" data-log-last>Last: <strong>‚Äî</strong></div>
              <div class="log-last" data-log-next>Next: <strong>‚Äî</strong></div>
            </div>
            <div class="log-form">
              <div class="log-field"><label>Weight (lb)</label><input class="input" inputmode="numeric" placeholder="15" data-log-w /></div>
              <div class="log-field"><label>Reps</label><input class="input" inputmode="numeric" placeholder="10" data-log-r /></div>
              <button class="save-btn" type="button" data-log-save>Save</button>
            </div>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="wed-db-row">
          <div class="ex-header"><span class="ex-name">2. One-Arm DB Rows</span><span class="ex-reps" data-base="3 x 12" data-low="2 x 12">3 x 12</span></div>
          <div class="cue-text">üí° Cue: Squeeze shoulder blade back like holding a pencil.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=PgpQ4-jHiq4" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
          <div class="log-wrap">
            <div class="log-top">
              <div class="log-last" data-log-last>Last: <strong>‚Äî</strong></div>
              <div class="log-last" data-log-next>Next: <strong>‚Äî</strong></div>
            </div>
            <div class="log-form">
              <div class="log-field"><label>Weight (lb)</label><input class="input" inputmode="numeric" placeholder="20" data-log-w /></div>
              <div class="log-field"><label>Reps</label><input class="input" inputmode="numeric" placeholder="12" data-log-r /></div>
              <button class="save-btn" type="button" data-log-save>Save</button>
            </div>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="wed-lateral-raise">
          <div class="ex-header"><span class="ex-name">3. DB Lateral Raises</span><span class="ex-reps" data-base="3 x 12" data-low="2 x 12">3 x 12</span></div>
          <div class="cue-text">üí° Cue: Slight lean forward. Lift to shoulder height. Control down.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=3VcKaXpzqRo" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="wed-biceps-finisher">
          <div class="ex-header"><span class="ex-name">4. DB Biceps Curls</span><span class="ex-reps" data-base="2 x 12" data-low="2 x 10">2 x 12</span></div>
          <div class="cue-text">üí° Cue: Elbows stay close to ribs. No swinging.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=ykJmrZ5v0Oo" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>
      </div>
    </div>

    <!-- THURSDAY -->
    <div class="workout-card" data-day="thursday" id="thuCard">
      <div class="workout-header">
        <div>
          <div class="workout-title" id="thuTitle">Thursday: Full Body Burn <span class="today-badge" hidden>‚ú® Today</span></div>
          <div class="workout-meta" id="thuMeta">Circuit style</div>
        </div>
        <button class="collapse-btn" type="button" aria-expanded="true"><span class="chev">‚ñæ</span> Collapse</button>
      </div>

      <!-- normal -->
      <div class="workout-body" id="thuNormal">
        <div class="exercise-block" data-ex-id="thu-squat">
          <div class="ex-header"><span class="ex-name">1. Bodyweight Squats</span><span class="ex-reps" data-base="3 x 15" data-low="2 x 12">3 x 15</span></div>
          <div class="cue-text">üí° Cue: Fast pace but controlled. Chest up.</div>
        </div>

        <div class="exercise-block" data-ex-id="thu-pushup">
          <div class="ex-header"><span class="ex-name">2. Incline Push-ups (hands on counter/bench)</span><span class="ex-reps" data-base="3 x 8‚Äì12" data-low="2 x 6‚Äì10">3 x 8‚Äì12</span></div>
          <div class="cue-text">üí° Cue: Body in a straight line. Lower slow, press strong.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=IODxDxX7oi4" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="thu-row">
          <div class="ex-header"><span class="ex-name">3. One-Arm DB Row</span><span class="ex-reps" data-base="3 x 10/side" data-low="2 x 10/side">3 x 10/side</span></div>
          <div class="cue-text">üí° Cue: Pull elbow to hip. Don‚Äôt shrug.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=PgpQ4-jHiq4" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>

        <div class="exercise-block" data-ex-id="thu-mountain">
          <div class="ex-header"><span class="ex-name">4. Mountain Climbers</span><span class="ex-reps" data-base="3 x 20" data-low="2 x 20">3 x 20</span></div>
          <div class="cue-text">üí° Cue: Drive knees toward chest. Keep hips low.</div>
          <div class="action-btns">
            <a href="https://www.youtube.com/watch?v=cnyTQDSE884" target="_blank" class="btn-mini" rel="noreferrer">‚ñ∂ Video</a>
          </div>
        </div>
      </div>

      <!-- low energy replacement -->
      <div class="workout-body" id="thuLow" style="display:none;">
        <div class="exercise-block">
          <div class="ex-header"><span class="ex-name">Low Energy Win</span><span class="ex-reps">20‚Äì30 min</span></div>
          <div class="cue-text">üí° Today‚Äôs goal: move gently + feel better tomorrow. This still counts.</div>
          <div class="action-btns">
            <a href="#flow" class="btn-mini">üü¶ Do the 21:00 wind-down</a>
          </div>
        </div>
        <div class="exercise-block">
          <div class="ex-header"><span class="ex-name">Easy Walk</span><span class="ex-reps">15‚Äì25 min</span></div>
          <div class="cue-text">üí° Keep it easy. If you can talk, you‚Äôre doing it right.</div>
        </div>
        <div class="exercise-block">
          <div class="ex-header"><span class="ex-name">Mobility (pick 3)</span><span class="ex-reps">6‚Äì8 min</span></div>
          <div class="cue-text">üí° Cat/Cow ‚Ä¢ Child‚Äôs Pose ‚Ä¢ Hip Flexor Stretch ‚Ä¢ Thoracic openers</div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROGRESS + WEEKLY CHECK-IN -->
  <div class="section-label"><span>PROGRESS</span></div>
  <section id="progress">
    <div class="card">
      <div style="text-align:center;">
        <div style="font-size:0.88rem;color:rgba(255,255,255,0.70);font-weight:900;letter-spacing:1.5px;">THE 26 LB COUNTDOWN</div>
        <div style="font-size:1.24rem;font-weight:1100;margin-top:6px;">Track Progress</div>
      </div>

      <div class="tracker-grid" id="trackerGrid"></div>

      <div class="tracker-footer">
        <div class="tracker-count" id="trackerCount">0 / 26 complete</div>
        <button class="reset-btn" type="button" onclick="resetProgress()">Reset</button>
      </div>

      <div style="text-align:center;font-size:0.78rem;color:rgba(255,255,255,0.55);margin-top:10px;">
        Tap a bubble when you lose a pound.
      </div>
    </div>

    <div class="card" id="checkin">
      <div style="text-align:center;">
        <div style="font-size:0.88rem;color:rgba(255,255,255,0.70);font-weight:900;letter-spacing:1.5px;">WEEKLY CHECK-IN</div>
        <div style="font-size:1.18rem;font-weight:1100;margin-top:6px;">One check-in = momentum</div>
        <div style="font-size:0.84rem;color:rgba(255,255,255,0.65);margin-top:6px;" id="checkinPrompt">Save this once per week.</div>
      </div>

      <div class="checkin-grid">
        <div class="log-field">
          <label>Weight</label>
          <input id="checkinWeight" class="input" inputmode="decimal" placeholder="ex: 165.2" />
        </div>

        <div class="log-field">
          <label>Waist (optional)</label>
          <input id="checkinWaist" class="input" inputmode="decimal" placeholder="ex: 33.5" />
        </div>

        <div class="log-field">
          <label>Wins</label>
          <textarea id="checkinWins" class="input textarea" placeholder="What went well this week?"></textarea>
        </div>

        <div class="log-field">
          <label>Struggles</label>
          <textarea id="checkinStruggles" class="input textarea" placeholder="What got in the way?"></textarea>
        </div>

        <div class="log-field">
          <label>Next week focus</label>
          <select id="checkinFocus" class="select">
            <option value="protein">Protein consistency</option>
            <option value="workouts">Workout consistency</option>
            <option value="steps">Steps / walking</option>
            <option value="sleep">Sleep / recovery</option>
            <option value="stress">Stress management</option>
          </select>
        </div>

        <button class="save-btn" type="button" onclick="saveWeeklyCheckin()">Save weekly check-in</button>

        <div class="checkin-meta">
          <span id="checkinSavedText">Saved: ‚Äî</span>
          <button class="small-link" type="button" onclick="resetWeeklyCheckin()">Reset weekly</button>
        </div>
      </div>
    </div>
  </section>

  <!-- STACK -->
  <div class="section-label"><span>STACK</span></div>
  <section id="stack">
    <div class="card">
      <div class="supp-card">
        <div class="supp-icon">‚òÄÔ∏è</div>
        <div class="supp-content">
          <h4>Morning Essentials</h4>
          <div class="supp-list">Buspirone (Rx) ‚Ä¢ Multi ‚Ä¢ D3 ‚Ä¢ Fish Oil</div>
          <div class="supp-desc">Foundation for energy + mood regulation.</div>
          <div class="pro-tip">‚ö†Ô∏è Take with food to avoid nausea.</div>
        </div>
      </div>
      <div class="supp-card">
        <div class="supp-icon">üéÄ</div>
        <div class="supp-content">
          <h4>Dinner / Metabolic Support</h4>
          <div class="supp-list">Choline + Inositol</div>
          <div class="supp-desc">Supports insulin sensitivity + fat processing.</div>
          <div class="pro-tip">Take with your biggest meal.</div>
        </div>
      </div>
      <div class="supp-card">
        <div class="supp-icon">üåô</div>
        <div class="supp-content">
          <h4>Bedtime / Recovery</h4>
          <div class="supp-list">Magnesium ‚Ä¢ Probiotic</div>
          <div class="supp-desc">Sleep + bloat support.</div>
          <div class="pro-tip">Take ~30 mins before bed.</div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- Sticky Bottom Nav -->
<nav class="bottom-nav" aria-label="Quick navigation">
  <div class="nav-grid" id="navGrid">
    <button class="nav-btn" data-target="#today" type="button">‚úÖ<div>Today</div></button>
    <button class="nav-btn" data-target="#flow" type="button">üïí<div>Flow</div></button>
    <button class="nav-btn" data-target="#moves" type="button">üèãÔ∏è<div>Moves</div></button>
    <button class="nav-btn" data-target="#food" type="button">üçΩÔ∏è<div>Food</div></button>
    <button class="nav-btn" data-target="#progress" type="button">üìâ<div>Progress</div></button>
    <button class="nav-btn" data-target="#stack" type="button">üíä<div>Stack</div></button>
  </div>
</nav>

<!-- Confetti -->
<div class="confetti-btn-container">
  <button class="confetti-btn" type="button" onclick="fireConfetti(true)">I CRUSHED IT! üéä</button>
</div>

<script>
/** =========================
 *  Storage keys (KEEPING originals so nothing is lost)
 *  ========================= */
const STORAGE = {
  progress: "glowUpProgress",
  phase: "glowUpPhase",
  collapsed: "glowUpCollapsedWorkouts",
  today: "glowUpDailyChecklist",

  // new (additive)
  exerciseLogs: "bgwExerciseLogs",
  foodPrefs: "bgwFoodPrefs",
  weekly: "bgwWeeklyCheckin"
};

function safeParse(json, fallback) {
  try { return JSON.parse(json) ?? fallback; } catch { return fallback; }
}
function todayKey() {
  const d = new Date();
  const yyyy = d.getFullYear();
  const mm = String(d.getMonth() + 1).padStart(2, "0");
  const dd = String(d.getDate()).padStart(2, "0");
  return `${yyyy}-${mm}-${dd}`;
}
function dayNameLower() {
  return new Date().toLocaleDateString(undefined, { weekday: "long" }).toLowerCase();
}
function cap(s){ return s ? s.charAt(0).toUpperCase() + s.slice(1) : s; }

/** =========================
 *  PWA service worker
 *  ========================= */
if ("serviceWorker" in navigator) {
  window.addEventListener("load", async () => {
    try { await navigator.serviceWorker.register("./sw.js"); }
    catch (err) { console.warn("SW registration failed:", err); }
  });
}

/** =========================
 *  Confetti (more reliable burst)
 *  ========================= */
function fireConfetti(big=false) {
  const colors = ["#ff3bd4", "#39f5ff", "#a6ff4d", "#8a5cff", "#ff9f2e"];
  const count = big ? 90 : 56;

  if (navigator.vibrate) { try { navigator.vibrate(big ? 30 : 15); } catch {} }

  for (let i = 0; i < count; i++) {
    const conf = document.createElement("div");
    conf.classList.add("confetti");
    conf.style.left = Math.random() * 100 + "vw";
    conf.style.top = (-10 - Math.random() * 20) + "px";
    conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    conf.style.animationDuration = (Math.random() * 1.6 + 1.6) + "s";
    conf.style.opacity = String(Math.random() * 0.65 + 0.35);
    conf.style.transform = `translateY(0) rotate(${Math.random()*180}deg)`;
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 3800);
  }
}

/** =========================
 *  Bottom Nav
 *  ========================= */
function initNav(){
  const btns = Array.from(document.querySelectorAll(".nav-btn"));
  btns.forEach(btn => {
    btn.addEventListener("click", () => {
      const target = btn.getAttribute("data-target");
      const el = document.querySelector(target);
      if (!el) return;
      el.scrollIntoView({ behavior: "smooth", block: "start" });
      btns.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    });
  });
}
initNav();

/** =========================
 *  Tracker
 *  ========================= */
const grid = document.getElementById("trackerGrid");
const totalPounds = 26;
let progress = safeParse(localStorage.getItem(STORAGE.progress), []);

function renderCount() {
  document.getElementById("trackerCount").textContent = `${progress.length} / ${totalPounds} complete`;
}
function saveProgress() {
  localStorage.setItem(STORAGE.progress, JSON.stringify(progress));
  renderCount();
}
function resetProgress() {
  if (!confirm("Reset the 26-lb tracker? This clears your bubbles.")) return;
  progress = [];
  localStorage.removeItem(STORAGE.progress);
  document.querySelectorAll(".lb-bubble").forEach(b => b.classList.remove("checked"));
  renderCount();
}
for (let i = 0; i < totalPounds; i++) {
  const bubble = document.createElement("div");
  bubble.className = "lb-bubble";
  bubble.textContent = i + 1;
  bubble.dataset.index = String(i);
  if (progress.includes(i)) bubble.classList.add("checked");

  bubble.addEventListener("click", () => {
    const idx = Number(bubble.dataset.index);
    const isChecked = bubble.classList.toggle("checked");
    if (isChecked) {
      if (!progress.includes(idx)) progress.push(idx);
      fireConfetti();
    } else {
      progress = progress.filter(p => p !== idx);
    }
    saveProgress();
  });
  grid.appendChild(bubble);
}
renderCount();

/** =========================
 *  Cycle Sync (persist) + behavior changes
 *  ========================= */
function applyEnergyMode(phase){
  // sets/reps display
  document.querySelectorAll(".ex-reps[data-base]").forEach(badge => {
    const base = badge.getAttribute("data-base") || badge.textContent;
    const low  = badge.getAttribute("data-low") || base;
    badge.textContent = (phase === "luteal") ? low : base;
  });

  // Thursday swap
  const thuLow = document.getElementById("thuLow");
  const thuNormal = document.getElementById("thuNormal");
  const thuTitle = document.getElementById("thuTitle");
  const thuMeta = document.getElementById("thuMeta");

  if (thuLow && thuNormal && thuTitle && thuMeta){
    if (phase === "luteal"){
      thuNormal.style.display = "none";
      thuLow.style.display = "block";
      thuTitle.textContent = "Thursday: Walk + Mobility (Low Energy Win)";
      thuMeta.textContent = "Recover, move gently, still count it.";
    } else {
      thuNormal.style.display = "block";
      thuLow.style.display = "none";
      thuTitle.textContent = "Thursday: Full Body Burn";
      thuMeta.textContent = "Circuit style";
    }
  }

  // Checklist wording
  renderChecklist(); // will read phase and adjust movement copy
}

function setCycle(phase) {
  const btns = document.querySelectorAll(".cycle-btn");
  const msg = document.getElementById("cycle-message");

  btns.forEach(b => b.classList.remove("active"));
  localStorage.setItem(STORAGE.phase, phase);

  if (phase === "follicular") {
    btns[0].classList.add("active");
    msg.style.display = "block";
    msg.style.background = "rgba(57,245,255,0.08)";
    msg.style.borderColor = "rgba(57,245,255,0.22)";
    msg.innerHTML = "<strong>üî• High Energy Phase:</strong> You‚Äôre in your power zone. Lift heavy + go get it.";
  } else {
    btns[1].classList.add("active");
    msg.style.display = "block";
    msg.style.background = "rgba(255,59,212,0.08)";
    msg.style.borderColor = "rgba(255,59,212,0.22)";
    msg.innerHTML = "<strong>ü©∏ Low Energy Phase:</strong> Cozy + recover. Walk, stretch, lighter weights ‚Äî still a win.";
  }

  applyEnergyMode(phase);
}

setCycle(localStorage.getItem(STORAGE.phase) || "follicular");

/** =========================
 *  Collapsible workouts (persist)
 *  ========================= */
let collapsedMap = safeParse(localStorage.getItem(STORAGE.collapsed), {});
function workoutId(card, index) { return card.getAttribute("data-day") || `workout-${index}`; }
function saveCollapsed() { localStorage.setItem(STORAGE.collapsed, JSON.stringify(collapsedMap)); }

function setCollapsed(card, btn, body, collapsed) {
  card.classList.toggle("collapsed", collapsed);
  btn.setAttribute("aria-expanded", String(!collapsed));
  btn.innerHTML = collapsed ? `<span class="chev">‚ñæ</span> Expand` : `<span class="chev">‚ñæ</span> Collapse`;
  body.style.maxHeight = collapsed ? "0px" : body.scrollHeight + "px";
}
function initCollapsibles() {
  const cards = Array.from(document.querySelectorAll(".workout-card"));
  cards.forEach((card, i) => {
    const btn = card.querySelector(".collapse-btn");
    const body = card.querySelector(".workout-body");
    if (!btn || !body) return;

    const id = workoutId(card, i);
    const isCollapsed = Boolean(collapsedMap[id]);

    body.style.maxHeight = isCollapsed ? "0px" : body.scrollHeight + "px";
    setCollapsed(card, btn, body, isCollapsed);

    btn.addEventListener("click", () => {
      const next = !card.classList.contains("collapsed");
      collapsedMap[id] = next;
      saveCollapsed();
      setCollapsed(card, btn, body, next);
    });

    window.addEventListener("resize", () => {
      if (!card.classList.contains("collapsed")) body.style.maxHeight = body.scrollHeight + "px";
    });
  });
}
initCollapsibles();

/** =========================
 *  Today mode
 *  ========================= */
const today = dayNameLower();
document.getElementById("todayLabel").textContent =
  `${cap(today)} ‚Ä¢ ${todayKey()}`;

document.getElementById("headerSubtitle").textContent =
  `Her Era ‚Ä¢ ${cap(today)} Edition`;

const workoutLabelByDay = {
  monday: "Leg Day",
  tuesday: "Pilates Core",
  wednesday: "Upper Body",
  thursday: "Full Body Burn",
  friday: "Recovery",
  saturday: "Recovery",
  sunday: "Recovery"
};
document.getElementById("todayFocus").textContent =
  `Focus: ${workoutLabelByDay[today] || "Recovery"}`;

function highlightTodayWorkout() {
  document.querySelectorAll(".workout-card").forEach(card => {
    card.classList.remove("today");
    const badge = card.querySelector(".today-badge");
    if (badge) badge.hidden = true;
  });

  const todayCard = document.querySelector(`.workout-card[data-day="${today}"]`);
  if (!todayCard) return;

  todayCard.classList.add("today");
  const badge = todayCard.querySelector(".today-badge");
  if (badge) badge.hidden = false;

  const btn = todayCard.querySelector(".collapse-btn");
  const body = todayCard.querySelector(".workout-body");
  if (btn && body) {
    const id = workoutId(todayCard, Array.from(document.querySelectorAll(".workout-card")).indexOf(todayCard));
    collapsedMap[id] = false;
    saveCollapsed();
    setCollapsed(todayCard, btn, body, false);
    body.style.maxHeight = body.scrollHeight + "px";
  }
}
highlightTodayWorkout();

/** =========================
 *  Checklist per day (persisted)
 *  ========================= */
const checklistEl = document.getElementById("checklist");
const checkMetaText = document.getElementById("checkMetaText");

function checklistTemplate(){
  const phase = localStorage.getItem(STORAGE.phase) || "follicular";
  const moveSub = (phase === "luteal")
    ? "Walk / stretch / light movement"
    : "Today‚Äôs workout or walk";

  return [
    { id: "water", title: "Hydrate", sub: "Water + morning essentials" },
    { id: "protein", title: "Protein", sub: "Hit protein at lunch + snack" },
    { id: "move", title: "Movement", sub: moveSub },
    { id: "sleep", title: "Recovery", sub: "Magnesium + wind-down" }
  ];
}

function loadDailyState() {
  const all = safeParse(localStorage.getItem(STORAGE.today), {});
  const key = todayKey();
  return { all, key, state: all[key] || { done: {} } };
}
function saveDailyState(all) { localStorage.setItem(STORAGE.today, JSON.stringify(all)); }

function renderChecklist() {
  const { all, key, state } = loadDailyState();
  const items = checklistTemplate();
  checklistEl.innerHTML = "";
  let doneCount = 0;

  items.forEach(item => {
    const isDone = Boolean(state.done[item.id]);
    if (isDone) doneCount++;

    const row = document.createElement("div");
    row.className = "check-item" + (isDone ? " done" : "");
    row.setAttribute("role", "button");
    row.setAttribute("tabindex", "0");

    row.innerHTML = `
      <div class="box">${isDone ? "‚úì" : ""}</div>
      <div class="txt">
        <div class="title">${item.title}</div>
        <div class="sub">${item.sub}</div>
      </div>
    `;

    const toggle = () => {
      state.done[item.id] = !Boolean(state.done[item.id]);
      all[key] = state;
      saveDailyState(all);
      renderChecklist();
      if (state.done[item.id]) fireConfetti();
    };

    row.addEventListener("click", toggle);
    row.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggle(); }
    });

    checklistEl.appendChild(row);
  });

  checkMetaText.textContent = `${doneCount} / ${items.length} done`;
}

function resetToday() {
  if (!confirm("Reset today's checklist?")) return;
  const { all, key } = loadDailyState();
  delete all[key];
  saveDailyState(all);
  renderChecklist();
}
renderChecklist();

/** =========================
 *  Food prefs (protein target)
 *  ========================= */
function loadFoodPrefs(){
  return safeParse(localStorage.getItem(STORAGE.foodPrefs), { proteinTarget: "120" });
}
function saveFoodPrefs(){
  const target = (document.getElementById("proteinTarget").value || "").trim();
  const prefs = loadFoodPrefs();
  prefs.proteinTarget = target || prefs.proteinTarget || "120";
  localStorage.setItem(STORAGE.foodPrefs, JSON.stringify(prefs));
  fireConfetti();
}
(function initFood(){
  const prefs = loadFoodPrefs();
  const input = document.getElementById("proteinTarget");
  if (input) input.value = prefs.proteinTarget || "120";
})();

/** =========================
 *  Weekly check-in (saved by ISO week)
 *  ========================= */
function isoWeekKey(d=new Date()){
  const date = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
  const dayNum = date.getUTCDay() || 7;
  date.setUTCDate(date.getUTCDate() + 4 - dayNum);
  const yearStart = new Date(Date.UTC(date.getUTCFullYear(),0,1));
  const weekNo = Math.ceil((((date - yearStart) / 86400000) + 1)/7);
  return `${date.getUTCFullYear()}-W${String(weekNo).padStart(2,"0")}`;
}
function loadWeeklyAll(){
  return safeParse(localStorage.getItem(STORAGE.weekly), {});
}
function saveWeeklyAll(all){
  localStorage.setItem(STORAGE.weekly, JSON.stringify(all));
}
function renderWeekly(){
  const key = isoWeekKey();
  const all = loadWeeklyAll();
  const saved = all[key];

  const prompt = document.getElementById("checkinPrompt");
  if (prompt){
    const isSunday = today === "sunday";
    prompt.textContent = isSunday
      ? "Sunday check-in: lock in next week."
      : "Save this once per week (any day).";
  }

  document.getElementById("checkinSavedText").textContent =
    saved?.savedAt ? `Saved: ${saved.savedAt}` : "Saved: ‚Äî";

  if (saved){
    document.getElementById("checkinWeight").value = saved.weight ?? "";
    document.getElementById("checkinWaist").value = saved.waist ?? "";
    document.getElementById("checkinWins").value = saved.wins ?? "";
    document.getElementById("checkinStruggles").value = saved.struggles ?? "";
    document.getElementById("checkinFocus").value = saved.focus ?? "protein";
  }
}
function saveWeeklyCheckin(){
  const key = isoWeekKey();
  const all = loadWeeklyAll();

  all[key] = {
    weight: (document.getElementById("checkinWeight").value || "").trim(),
    waist: (document.getElementById("checkinWaist").value || "").trim(),
    wins: (document.getElementById("checkinWins").value || "").trim(),
    struggles: (document.getElementById("checkinStruggles").value || "").trim(),
    focus: (document.getElementById("checkinFocus").value || "protein"),
    savedAt: new Date().toLocaleString()
  };

  saveWeeklyAll(all);
  fireConfetti(true);
  renderWeekly();
}
function resetWeeklyCheckin(){
  if (!confirm("Reset this week's check-in?")) return;
  const key = isoWeekKey();
  const all = loadWeeklyAll();
  delete all[key];
  saveWeeklyAll(all);
  document.getElementById("checkinWeight").value = "";
  document.getElementById("checkinWaist").value = "";
  document.getElementById("checkinWins").value = "";
  document.getElementById("checkinStruggles").value = "";
  document.getElementById("checkinFocus").value = "protein";
  renderWeekly();
}
renderWeekly();

/** =========================
 *  Progressive overload logging (numbers only)
 *  ========================= */
function loadLogs(){
  return safeParse(localStorage.getItem(STORAGE.exerciseLogs), {});
}
function saveLogs(all){
  localStorage.setItem(STORAGE.exerciseLogs, JSON.stringify(all));
}
function formatLast(entry){
  if (!entry) return "‚Äî";
  const w = entry.w != null && entry.w !== "" ? `${entry.w} lb` : "BW";
  const r = entry.r != null && entry.r !== "" ? `${entry.r} reps` : "";
  const d = entry.date ? ` ‚Ä¢ ${entry.date}` : "";
  return `${w}${r ? " √ó " + r : ""}${d}`;
}
function suggestNext(entry){
  if (!entry) return "Log today to get a next-step suggestion.";
  const w = Number(entry.w);
  const r = Number(entry.r);
  if (!isFinite(w) || w <= 0){
    if (isFinite(r) && r > 0) return `Next: +1‚Äì2 reps (or slow the tempo).`;
    return `Next: add a little more challenge (slower tempo / longer range).`;
  }
  if (isFinite(r) && r > 0) return `Next: try +2.5‚Äì5 lb OR +1‚Äì2 reps.`;
  return `Next: try +2.5‚Äì5 lb.`;
}
function initExerciseLogs(){
  const all = loadLogs();

  document.querySelectorAll(".exercise-block[data-ex-id]").forEach(block => {
    const id = block.getAttribute("data-ex-id");
    const lastEl = block.querySelector("[data-log-last] strong");
    const nextEl = block.querySelector("[data-log-next] strong");
    const wInput = block.querySelector("[data-log-w]");
    const rInput = block.querySelector("[data-log-r]");
    const saveBtn = block.querySelector("[data-log-save]");

    // Not every exercise has logging UI (only the main lifts). That's fine.
    if (!saveBtn || !lastEl || !nextEl) return;

    const last = all[id]?.last;
    lastEl.textContent = formatLast(last);
    nextEl.textContent = suggestNext(last);

    saveBtn.addEventListener("click", () => {
      const w = (wInput?.value || "").trim();
      const r = (rInput?.value || "").trim();

      if ((!w || w === "0") && (!r || r === "0")){
        alert("Enter weight and/or reps first.");
        return;
      }

      const entry = { w, r, date: todayKey() };

      const cur = all[id] || { history: [], last: null };
      cur.history = Array.isArray(cur.history) ? cur.history : [];
      cur.history.push({ ...entry, savedAt: Date.now() });
      cur.last = entry;
      all[id] = cur;

      saveLogs(all);
      lastEl.textContent = formatLast(entry);
      nextEl.textContent = suggestNext(entry);

      fireConfetti();
    });
  });
}
initExerciseLogs();
</script>
</body>
  </html>
